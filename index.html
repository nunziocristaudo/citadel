<!DOCTYPE html>
<html lang="en">
<head>
  <title>TinySquares â€“ Explore an Infinite World of Micro Moments</title>
  <meta name="title" content="TinySquares â€“ Explore an Infinite World of Micro Moments">
  <meta name="description" content="Explore or submit your image or video to TinySquares and be part of an infinite public gallery of bite-sized moments.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tinysquares.io">
  <meta property="og:title" content="TinySquares â€“ Explore an Infinite World of Micro Moments">
  <meta property="og:description" content="Explore or submit your image or video to TinySquares and be part of an infinite public gallery of bite-sized moments.">
  <meta property="og:image" content="https://tinysquares.io/preview.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="TinySquares â€“ Explore an Infinite World of Micro Moments">
  <meta name="twitter:description" content="Explore or submit your tile to TinySquares and join the infinite public mosaic of creative expression.">
  <meta name="twitter:image" content="https://tinysquares.io/preview.jpg">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.jpeg" type="image/jpeg">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <style>
    #topbar.hide, footer.hide { display: none !important; }
  </style>
</head>
<body oncontextmenu="return false">
  <header id="topbar">
    <nav>
      <a href="index.html">Home</a>
      <a href="submit.html">Submit a Tile</a>
      <a href="featured.html">Featured</a>
      <a href="about.html">About</a>
    </nav>
  </header>

  <div id="loader">Loading...</div>
  <main id="gallery"></main>

  <footer>
    <p>
      Want your work on TinySquares? <a href="submit.html">Submit a tile</a>.
    </p>
  </footer>

  <!-- core behaviour -->
  <script src="script.js"></script>

  <!-- header/footer hide behaviour -->
  <script>
    let hideTimeout;
    function showBars() {
      clearTimeout(hideTimeout);
      document.getElementById('topbar').classList.remove('hide');
      document.querySelector('footer').classList.remove('hide');
      hideTimeout = setTimeout(() => {
        document.getElementById('topbar').classList.add('hide');
        document.querySelector('footer').classList.add('hide');
      }, 2000);
    }
    window.addEventListener('mousemove', showBars);
    window.addEventListener('scroll', showBars);
    window.addEventListener('touchmove', showBars);
    showBars();
  </script>

  <!-- mobile add-to-home-screen prompt -->
  <script>
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    const shown = localStorage.getItem('a2hsPromptShown');

    if (isMobile && !shown) {
      const prompt = document.createElement('div');
      prompt.innerHTML = "ðŸ“² Add TinySquares to your home screen for faster access.<br><small>Tap the share icon and choose 'Add to Home Screen'</small>";
      prompt.style.position = "fixed";
      prompt.style.bottom = "1rem";
      prompt.style.left = "50%";
      prompt.style.transform = "translateX(-50%)";
      prompt.style.background = "#000";
      prompt.style.color = "#fff";
      prompt.style.padding = "1rem";
      prompt.style.borderRadius = "1rem";
      prompt.style.boxShadow = "0 4px 12px rgba(0,0,0,0.3)";
      prompt.style.zIndex = "9999";
      prompt.style.textAlign = "center";
      prompt.style.maxWidth = "90%";

      document.body.appendChild(prompt);
      localStorage.setItem('a2hsPromptShown', 'true');

      setTimeout(() => {
        prompt.remove();
      }, 10000);
    }
    if (window.innerWidth < 768) {
      let lastScrollY = window.scrollY;
      let ticking = false;

      function handleScroll() {
        const currentScrollY = window.scrollY;
        const goingDown = currentScrollY > lastScrollY;
        lastScrollY = currentScrollY;

        document.getElementById('topbar').classList.toggle('hide', goingDown);
        document.querySelector('footer').classList.toggle('hide', goingDown);
        ticking = false;
     }

     window.addEventListener('scroll', () => {
       if (!ticking) {
         window.requestAnimationFrame(handleScroll);
         ticking = true;
       }
     });
   } 
 </script>
</body>
</html>
